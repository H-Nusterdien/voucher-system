{% extends 'dashboard/base.html' %}
{% load crispy_forms_tags %}

{% block page_content %}
    <h3 class="mt-5">
        Voucher History:
    </h3>
    <table class="table table-bordered table-striped table-hover align-middle mt-3">
        <thead>
            <tr>
                {% for field_name in voucher_history_field_names %}
                    <th>{{field_name}}</th>
                {% endfor %}
            </tr>
        </thead>
        <tbody>
            {% for voucher_redemption in redeemed_vouchers %}
                <tr>
                    <td>{{voucher_redemption.voucher.code}}</td>
                    <td>{{voucher_redemption.voucher.description}}</td>
                    <td>{{voucher_redemption.voucher.discount_percentage}}</td>
                    <td>{{voucher_redemption.redeemed_at}}</td>
                </tr>
            {% endfor %}
        </tbody>
    </table>
    <hr class="mt-5" />
    <h3 class="mt-5">
        Redeem Voucher:
    </h3>
    <form class="mt-3" action="" method="POST">
        {% csrf_token %}
        {{form|crispy}}
        <button class="btn btn-success" type="submit">
            Redeem
        </button>
    </form>
{% endblock page_content %}
